
<style>
    .er td:nth-of-type(1) { width:25%;}
    .er td:nth-of-type(2) { width:15%;}
    .er td:nth-of-type(3) { width:20%;}
    .er td:nth-of-type(4) { width:20%;}
    .er td:nth-of-type(5) { width:20%;}

    .fc td:nth-of-type(1) { width:40%;}
    .fc td:nth-of-type(2) { width:20%;}
    .fc td:nth-of-type(3) { width:20%;}
    .fc td:nth-of-type(4) { width:20%;}
</style>

<div id="systems" class="page">

    <hr>
    <h3>Mean Internal Temperature</h3>
    <hr>

    <table class="table">
        <tr>
            <td>
                <h4>Heating system</h4>
                <div class="input-prepend input-append">
                    <span class="add-on">Responsiveness:</span>
                    <input key="data.temperature.responsiveness" type="text" style="width:40px" />
                    <span class="add-on">Control type:</span>
                    <select key="data.temperature.control_type" style="width:80px">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </div>

            </td><td>

                <h4>Living area and target temperature</h4>
                <div class="input-prepend input-append">
                    <span class="add-on">Living area:</span>
                    <input key="data.temperature.living_area" type="text" style="width:40px" />
                    <span class="add-on">m2</span>

                    <span class="add-on">Target temperature:</span>
                    <input key="data.temperature.target" type="text" style="width:40px" />
                    <span class="add-on">C</span>
                </div>

            </td>
        </tr>
    </table>

    <hr>
    <h3>Energy Requirements</h3>
    <hr>

    <table class="table">

        <tbody id="energyrequirement-template"  style="display:none">

            <tr style="background-color:#eee">
                <th><span key="data.energy_requirements.template.name"></span></th>
                <th></th>
                <th><span key="data.energy_requirements.template.quantity" dp=0></span> kWh/year</th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th style="text-align:right"><span class="add-from-lib" style="cursor:pointer" eid="template"><button class="btn" style="padding-top:2px; padding-bottom:2px"><i class="icon-plus"></i> Add</button></span></th>
            </tr>

            <tr>
                <td style="text-align:left">Supplied by:</td>
                <td>Notes</td>
                <td>Fraction<span style="display:none;" class="secondary-space-heating template" >  <i class="icon-question-sign" title="SAP2012 fractions for secondary heating system
                                                                                                       - All gas, oil and solid fuel systems- 0.10
                                                                                                       - Heat pump - 0.10
                                                                                                       - Electric storage heaters (not integrated)
                                                                                                       - not fan-assisted - 0.15
                                                                                                       - fan-assisted - 0.1
                                                                                                       - high heat retention - 0.1
                                                                                                       - Integrated storage/direct-acting electric systems- 0.10
                                                                                                       - Electric CPSU- 0.10
                                                                                                       - Electric room heaters- 0.20
                                                                                                       - Other electric systems- 0.10
                                                                                                       - Community heating- 0.10"></i></td>
                <td>Demand</td>
                <td>Efficiency</td>
                <td>Fuel input</td>
                <td style=" width:120px;text-align: center"><span style="display:none;" class="secondary-space-heating template" >Secondary </span></td>
                <td></td>
            </tr>

        </tbody>

        <tbody id="suppliedby-template" style="display:none">
            <tr>
                <td style="text-align:left">
                    <span key="data.energy_systems.template.x.system"></span>: <span key="data.energy_systems.template.x.name"></span>
                    <!--<select class="heating_system_selector" z=tmp x=tmp key="data.energy_systems.template.x.system"></select>-->
                </td>
                <td><input type="text" key="data.energy_systems.template.x.description" style="width:120px"/></td>
                <td class="fraction template"><input type="number" min="0.01" max="1" step="0.01" key="data.energy_systems.template.x.fraction" dp=2 style="width:60px"/></td>
                <td><span key="data.energy_systems.template.x.demand" dp=0></span> kWh/year</td>
                <td><span key="data.energy_systems.template.x.efficiency" dp=3></span></td>
                <td><span key="data.energy_systems.template.x.fuelinput" dp=0></span> kWh/year</td>
                <td style="text-align: center"><input class="secondary-space-heating template" style="display:none;" type="checkbox" key="data.energy_systems.template.x.secondary"/></td>
                <td style="text-align:center" class="suppliedby-template-buttons">
                    <button class="apply-measure" tag="template" row="template" item="template" type-of-item='template' item_id="template" style="margin-right:25px">Apply Measure</button>
                    <span class="edit-item"  eid="eid" sid="sid" row="template" type-of-item="template" tag="template" style="cursor:pointer; margin-right:15px" item="template" title="Editing a system this way is not considered a Measure"><a><i class="icon-edit"></i></a></span>
                    <span class="delete-system" eid="eid" sid="sid" style="cursor:pointer" title="Deleting an element this way is not considered a Measure"><a><i class="icon-trash"></i></a></span>
                </td>
            </tr>
        </tbody>

        <table class="table">
            <tbody id="energyrequirements"></tbody>
        </table>

        <div id="generation-container" style="display:none">
            <br>
            <hr>
            <h3>Generation <i class="icon-question-sign" title="This table is autogenerated with data from the Generation page"></i></h3>
            <hr>
            <table class="table">
                <tbody>

                    <tr style="background-color:#eee">
                        <th>Renewable Generation</th>
                        <th><span key="data.generation.total_generation" dp=0></span> kWh/year</th>
                        <th style="text-align:right"></th>
                    </tr>

                    <tr>
                        <td style="text-align:left">Supplied by:</td>
                        <td>Quantity</td>              
                        <td>Annual kgCO<sub>2</sub></td>

                    </tr>

                </tbody>

                <tbody id="suppliedby-generation-template" style="display:none">
                    <tr>
                        <td style="text-align:left">
                            <span key="data.generation.template.x.name"></span>
                            <!--<select class="heating_system_selector" z=tmp x=tmp key="data.energy_systems.template.x.system"></select>-->
                        </td>
                        <td><span key="data.generation.template.x.quantity" dp=0></span> kWh/year</td>
                        <td><span type="text" key="data.generation.template.x.CO2" dp="0" style="width:120px"/></td>

                    </tr>
                </tbody>

                <tbody id="generation"></tbody>
            </table>
        </div>

        <br>
        <hr>
        <h3>Fuel requirements & costs</h3>
        <hr>
        <table class="table">
            <tr>
                <th style="text-align:left">Fuel type</th>
                <th>Fuel quantity</th>
                <th>kgCO<sub>2</sub>/kWh</th>
                <th>Annual<br>kgCO<sub>2</sub></th>
                <th>Primary<br>Energy<br>Factor</th>
                <th>Primary<br>Energy</th>
                <th>Unit cost</th>
                <th>Daily<br>Standing<br>charge</th>
                <th>Annual cost</th>
            </tr>

            <tbody id="fuel_totals_template" style="display:none">
                <tr>
                    <td style="text-align:left"><span key="data.fuel_totals.z.name"></span></td>
                    <td><span key="data.fuel_totals.z.quantity" dp=0></span> kWh</td>

                    <td>x<input type="text" key="data.fuels.f.co2factor" value=0 style="width:60px"/></td>
                    <td><span key="data.fuel_totals.z.annualco2" dp=0></span> kg</td>

                    <td>x<input type="text" key="data.fuels.f.primaryenergyfactor" value=0 style="width:60px"/></td>
                    <td><span key="data.fuel_totals.z.primaryenergy" dp=0></span> kWh</td>

                    <td>£ <input type="text" key="data.fuels.f.fuelcost" value=0 style="width:60px"/></td>
                    <td>£ <input type="text" key="data.fuels.f.standingcharge" value=0 style="width:60px"/></td>
                    <td>£<span key="data.fuel_totals.z.annualcost" dp=0></span></td>
                </tr>
            </tbody>

            <tbody id="fuel_totals"></tbody>

            <tr>
                <td style="text-align:left"><b>Total energy cost:</b></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td><b>£<span key="data.total_cost" dp=0></span></b> (<span key="data.SAP.rating" dp=0></span>)</td>
            </tr>

            <tr>
                <td style="text-align:left"><b>Total energy income<br>(FIT's):</b></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td id="fit_income"><b>£<span key="data.total_income" dp=0></span></b></td>
            </tr>

            <tr>
                <td style="text-align:left"><b>Net cost:</b></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td><b>£<span key="data.net_cost" dp=0></span></b></td>
            </tr>
        </table>    
</div>


<!--
<div id="modal-system-library" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="modal-system-library-label" aria-hidden="true" data-backdrop="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="modal-system-library-label">System Library</h3>
    </div>
    <div class="modal-body" style="height:500px">
    
        <div id="modal-system-library-table-view" style="display:none">
            System library:<br><br>
            <table id="system-library-table" class="table"></table>
        </div>
        
        <div id="modal-system-library-editnew-view" style="display:none">
            Edit or create a new system:<br><br>
            
            <p>System tag:<br><input type="text" class="edit-system-tag" /></p>
            <p>Name:<br><input type="text" class="edit-system-name" /></p>
            <p>Default efficiency:<br><input type="text" class="edit-system-efficiency" /></p>
            <p>Winter efficinecy:<br><input type="text" class="edit-system-winter" /></p>
            <p>Summer efficinecy:<br><input type="text" class="edit-system-summer" /></p>
            <p>Fuel:<br><select class="edit-system-fuel" /></p>
        </div>
        
    </div>
    <div class="modal-footer">
        <button class="btn create-system">Create new system</button>
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        <button class="btn btn-success save-system" style="display:none">Save</button>
    </div>
</div>
-->
